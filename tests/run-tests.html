<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Tests</title>
    <link type="text/css" rel="stylesheet" href="../node_modules/mocha/mocha.css" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="pragma" content="no-cache" />
  </head>
  <body>
    <div id="mocha"></div>
    <script type="text/javascript" src="../node_modules/lively.ast/lively.ast.dev-bundle.js"></script>
    <script type="text/javascript" src="helper.js"></script>
    <script type="text/javascript" src="../node_modules/mocha/mocha.js"></script>
    <script type="text/javascript" src="../node_modules/chai/chai.js"></script>
    <script type="text/javascript" >window.module = {exports: {}};</script>
    <script type="text/javascript" src="../node_modules/chai-subset/lib/chai-subset.js"></script>
    <script type="text/javascript" >window.chaiSubset = module.exports; delete window.module;</script>
    <script type="text/javascript" >
      window.expect = chai.expect;
      chai.use(window.chaiSubset);
      mocha.setup("bdd");
      mocha.globals(["script*", "z"/*for onlyCaptureWhitelistedGlobals*/]);
      if (typeof initMochaPhantomJS === 'function') initMochaPhantomJS();
      var es6Enabled = true;
      try { eval("() => 123"); } catch(e) { es6Enabled = false; }
      var urls = es6Enabled ?
        ["../dist/lively.vm.js", "vm-test.js"] :
        ["../dist/lively.vm.min.js", "../node_modules/babel-core/browser.js", "vm-test.js"];
      loadUncached(urls, function() {
        mocha.checkLeaks();
        mocha.run();
      });
    </script>

  </body>
</html>
