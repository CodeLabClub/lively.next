<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Tests</title>
    <link type="text/css" rel="stylesheet" href="../node_modules/mocha/mocha.css" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="pragma" content="no-cache" />
  </head>
  <body>
    <div id="mocha"></div>
    <script type="text/javascript" src="../node_modules/lively.ast/lively.ast.dev-bundle.js"></script>
    <script type="text/javascript" src="helper.js"></script>
    <script type="text/javascript" src="../node_modules/mocha/mocha.js"></script>
    <script type="text/javascript" src="../node_modules/chai/chai.js"></script>
    <script type="text/javascript" >window.module = {exports: {}};</script>
    <script type="text/javascript" src="../node_modules/chai-subset/lib/chai-subset.js"></script>
    <script type="text/javascript" >
      var chaiSubset = module.exports; chai.use(chaiSubset); delete window.module;
      mocha.setup("bdd");
      mocha.globals([
        "script*"/*jQuery*/,
        "z",/*for "only capture whitelisted globals"*/
        "obj1", "obj2"/*for completion tests*/]);
      if (typeof initMochaPhantomJS === 'function') initMochaPhantomJS();
      var es6Enabled = true;
      try { eval("() => 123"); } catch(e) { es6Enabled = false; }
      var tests = ["vm-test.js", "completion-test.js"];
      var urls = (es6Enabled ?
        ["../dist/lively.vm.js"] :
        ["../dist/lively.vm.min.js", "../node_modules/babel-core/browser-polyfill.js", "../node_modules/babel-core/browser.js"]).concat(tests);
      loadUncached(urls, function() {
        mocha.checkLeaks();
        mocha.run();
      });
    </script>

  </body>
</html>
