{
  "id": "Slider_50C00D62_C898_4B5C_9AF7_5A24BA879642",
  "snapshot": {
    "Slider_50C00D62_C898_4B5C_9AF7_5A24BA879642": {
      "rev": 822848,
      "props": {
        "_tickingScripts": {
          "key": "_tickingScripts",
          "value": []
        },
        "attributeConnections": {
          "key": "attributeConnections"
        },
        "name": {
          "key": "name",
          "value": "slider"
        },
        "position": {
          "key": "position",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(365.8,697.8)"
        },
        "origin": {
          "key": "origin",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(0.0,0.0)"
        },
        "extent": {
          "key": "extent",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(237.3,44.0)"
        },
        "fill": {
          "key": "fill",
          "value": {
            "__ref__": true,
            "id": "3B40566B-C7C6-4D50-9829-527758D0D35A",
            "rev": 0
          }
        },
        "submorphs": {
          "key": "submorphs",
          "value": [
            {
              "__ref__": true,
              "id": "SliderKnob_DB9C2CB9_BF9B_417C_B5D6_367A4F1636C4",
              "rev": 819790
            }
          ]
        },
        "scroll": {
          "key": "scroll",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(0.0,0.0)"
        },
        "scrollbarOffset": {
          "key": "scrollbarOffset",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(15.0,15.0)"
        },
        "styleClasses": {
          "key": "styleClasses",
          "value": [
            "Slider",
            "Morph",
            "morph"
          ]
        },
        "borderColorBottom": {
          "key": "borderColorBottom",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(189,195,199)"
        },
        "borderColorLeft": {
          "key": "borderColorLeft",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(189,195,199)"
        },
        "borderColorRight": {
          "key": "borderColorRight",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(189,195,199)"
        },
        "borderColorTop": {
          "key": "borderColorTop",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(189,195,199)"
        },
        "borderRadiusBottom": {
          "key": "borderRadiusBottom",
          "value": 15
        },
        "borderRadiusLeft": {
          "key": "borderRadiusLeft",
          "value": 15
        },
        "borderRadiusRight": {
          "key": "borderRadiusRight",
          "value": 15
        },
        "borderRadiusTop": {
          "key": "borderRadiusTop",
          "value": 15
        },
        "borderWidthBottom": {
          "key": "borderWidthBottom",
          "value": 1
        },
        "borderWidthLeft": {
          "key": "borderWidthLeft",
          "value": 1
        },
        "borderWidthRight": {
          "key": "borderWidthRight",
          "value": 1
        },
        "borderWidthTop": {
          "key": "borderWidthTop",
          "value": 1
        },
        "value": {
          "key": "value",
          "value": 0.8225
        }
      },
      "lively.serializer-class-info": {
        "className": "Slider",
        "module": {
          "package": {
            "name": "Slider",
            "version": "0.1.0"
          },
          "pathInPackage": "index.js",
          "lastChange": 1497014066835,
          "lastSuperclassChange": 1497013100993
        }
      }
    },
    "3B40566B-C7C6-4D50-9829-527758D0D35A": {
      "rev": 0,
      "props": {
        "stops": {
          "key": "stops",
          "value": [
            {
              "__ref__": true,
              "id": "86B14D71-3089-40A4-A8F6-4B4961E88B31",
              "rev": 0
            },
            {
              "__ref__": true,
              "id": "31C5A2F9-2B0C-4FE0-A7E7-FA0C9B7629ED",
              "rev": 0
            },
            {
              "__ref__": true,
              "id": "C00C07C1-82BD-4E08-B079-5081F5811B47",
              "rev": 0
            },
            {
              "__ref__": true,
              "id": "5B887E6E-6388-44DA-9794-8E86199B6BCE",
              "rev": 0
            }
          ]
        },
        "_vector": {
          "key": "_vector",
          "value": "__lv_expr__:{rect}:lively.graphics/geometry-2d.js:rect(0,0,0,1)"
        }
      },
      "lively.serializer-class-info": {
        "className": "LinearGradient",
        "module": {
          "package": {
            "name": "lively.graphics",
            "version": "0.1.1"
          },
          "pathInPackage": "color.js",
          "lastChange": 1497013100866,
          "lastSuperclassChange": 0
        }
      }
    },
    "86B14D71-3089-40A4-A8F6-4B4961E88B31": {
      "rev": 0,
      "props": {
        "color": {
          "key": "color",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(253,254,254)"
        },
        "offset": {
          "key": "offset",
          "value": 0
        }
      }
    },
    "31C5A2F9-2B0C-4FE0-A7E7-FA0C9B7629ED": {
      "rev": 0,
      "props": {
        "offset": {
          "key": "offset",
          "value": 0.09549014406895506
        },
        "color": {
          "key": "color",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(229,231,233)"
        }
      }
    },
    "C00C07C1-82BD-4E08-B079-5081F5811B47": {
      "rev": 0,
      "props": {
        "offset": {
          "key": "offset",
          "value": 0.9160783793630726
        },
        "color": {
          "key": "color",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(242,243,244)"
        }
      }
    },
    "5B887E6E-6388-44DA-9794-8E86199B6BCE": {
      "rev": 0,
      "props": {
        "color": {
          "key": "color",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(253,254,254)"
        },
        "offset": {
          "key": "offset",
          "value": 1
        }
      }
    },
    "SliderKnob_DB9C2CB9_BF9B_417C_B5D6_367A4F1636C4": {
      "rev": 819790,
      "props": {
        "_tickingScripts": {
          "key": "_tickingScripts",
          "value": []
        },
        "attributeConnections": {
          "key": "attributeConnections"
        },
        "name": {
          "key": "name",
          "value": "knob"
        },
        "nativeCursor": {
          "key": "nativeCursor",
          "value": "pointer"
        },
        "position": {
          "key": "position",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(176.0,0.0)"
        },
        "origin": {
          "key": "origin",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(0.0,0.0)"
        },
        "extent": {
          "key": "extent",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(23.7,44.0)"
        },
        "fill": {
          "key": "fill",
          "value": {
            "__ref__": true,
            "id": "8F7DB9EE-BC45-4421-A26E-155E778F1E59",
            "rev": 0
          }
        },
        "submorphs": {
          "key": "submorphs",
          "value": []
        },
        "styleClasses": {
          "key": "styleClasses",
          "value": [
            "SliderKnob",
            "Morph",
            "morph"
          ]
        },
        "borderColorBottom": {
          "key": "borderColorBottom",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(189,195,199)"
        },
        "borderColorLeft": {
          "key": "borderColorLeft",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(189,195,199)"
        },
        "borderColorRight": {
          "key": "borderColorRight",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(189,195,199)"
        },
        "borderColorTop": {
          "key": "borderColorTop",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(189,195,199)"
        },
        "borderRadiusBottom": {
          "key": "borderRadiusBottom",
          "value": 5
        },
        "borderRadiusLeft": {
          "key": "borderRadiusLeft",
          "value": 5
        },
        "borderRadiusRight": {
          "key": "borderRadiusRight",
          "value": 5
        },
        "borderRadiusTop": {
          "key": "borderRadiusTop",
          "value": 5
        },
        "borderWidthBottom": {
          "key": "borderWidthBottom",
          "value": 1
        },
        "borderWidthLeft": {
          "key": "borderWidthLeft",
          "value": 1
        },
        "borderWidthRight": {
          "key": "borderWidthRight",
          "value": 1
        },
        "borderWidthTop": {
          "key": "borderWidthTop",
          "value": 1
        }
      },
      "lively.serializer-class-info": {
        "className": "SliderKnob",
        "module": {
          "package": {
            "name": "SliderKnob",
            "version": "0.1.0"
          },
          "pathInPackage": "index.js",
          "lastChange": 1497014066951,
          "lastSuperclassChange": 1497013100993
        }
      }
    },
    "8F7DB9EE-BC45-4421-A26E-155E778F1E59": {
      "rev": 0,
      "props": {
        "stops": {
          "key": "stops",
          "value": [
            {
              "__ref__": true,
              "id": "7C8BC695-8E59-4E25-B6B7-E05C57880833",
              "rev": 0
            },
            {
              "__ref__": true,
              "id": "A008B02B-27AB-4C73-9765-45D076E9E6E4",
              "rev": 0
            }
          ]
        },
        "_vector": {
          "key": "_vector",
          "value": "__lv_expr__:{rect}:lively.graphics/geometry-2d.js:rect(0,0,0,1)"
        }
      },
      "lively.serializer-class-info": {
        "className": "LinearGradient",
        "module": {
          "package": {
            "name": "lively.graphics",
            "version": "0.1.1"
          },
          "pathInPackage": "color.js",
          "lastChange": 1497013100866,
          "lastSuperclassChange": 0
        }
      }
    },
    "7C8BC695-8E59-4E25-B6B7-E05C57880833": {
      "rev": 0,
      "props": {
        "color": {
          "key": "color",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(255,255,255)"
        },
        "offset": {
          "key": "offset",
          "value": 0.029411764705882353
        }
      }
    },
    "A008B02B-27AB-4C73-9765-45D076E9E6E4": {
      "rev": 0,
      "props": {
        "color": {
          "key": "color",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(229,231,233)"
        },
        "offset": {
          "key": "offset",
          "value": 1
        }
      }
    }
  },
  "requiredVersion": "~0.1",
  "packages": {
    "local://lively-object-modules/": {
      "Slider": {
        "package.json": "{\n  \"name\": \"Slider\",\n  \"version\": \"0.1.0\",\n  \"lively\": {\n    \"isObjectPackage\": true\n  }\n}",
        "index.js": "import { Morph } from \"lively.morphic\";\nimport { pt } from \"lively.graphics/index.js\";\nimport { num } from \"lively.lang/index.js\";\n\nexport default class Slider extends Morph {\n\n  static get properties() {\n    return {\n\n      min: {defaultValue: null},\n      max: {defaultValue: null},\n      mss: {defaultValue: 12/*\"minimum slider size\"*/},\n\n      isVertical: {\n        readOnly: true, derived: true, after: [\"extent\"],\n        get() { return this.height > this.width; }\n      },\n\n      knob: {\n        readOnly: true, derived: true, after: [\"submorphs\"],\n        get() { return this.getSubmorphNamed(\"knob\"); }\n      },\n\n      extent: {\n        set(val) {\n          this.setProperty(\"extent\", val);\n          this.adjustSliderParts();\n        }\n      },\n\n      value: {\n        set(val) {\n          this.setProperty(\"value\", val);\n          this.adjustSliderParts();\n        }\n      },\n\n      valueScale: {\n        defaultValue: 1.0,\n        after: [\"submorphs\"],\n        set(val) {\n          this.setProperty(\"valueScale\", val);\n          this.adjustSliderParts();\n        }\n      },\n\n      scaledValue: {\n        after: [\"value\", \"valueScale\"], derived: true,\n        set(value) {\n          let {valueScale, value: v, min, max} = this;\n          this.value = typeof min === \"number\" && typeof max === \"number\" ?\n            (max-min) * value + min : value * valueScale;\n        },\n        get() {\n          let {valueScale, value: v, min, max} = this;\n          v = v || 0;\n          return typeof min === \"number\" && typeof max === \"number\" ?\n            (v-min)/(max-min) :\n            v / valueScale;\n        }\n      },\n\n      sliderExtent: {\n        defaultValue: 0.1,\n        set(val) {\n          this.setProperty(\"sliderExtent\", val)\n          this.adjustSliderParts();\n        }\n      }\n\n    }\n\n  }\n\n  reset() {\n\n    let props = this.constructor.properties;\n    let keys = Object.keys(props);\n    keys.forEach(key =>\n      typeof this[key] === \"undefined\" && (this[key] = props[key].defaultValue))\n\n    this.knob.nativeCursor = \"pointer\";\n    this.knob.show()\n    this.value = .5\n    this.scaledValue\n  }\n\n  onValueChange(newValue, oldValue) {}\n\n  clipValue(val) {\n    return Math.min(1.0,Math.max(0,0, num.roundTo(val, 0.0001)));\n  }\n\n  adjustSliderParts() {\n    // this.adjustSliderParts()\n    let {knob, mss, isVertical, scaledValue, sliderExtent} = this;\n    if (!knob) return;\n\n    // This method adjusts the slider for changes in value as well as geometry\n    var val = scaledValue,\n        bnds = this.innerBounds(),\n        ext = sliderExtent;\n \n    if (isVertical) { // more vertical...\n      var elevPix = Math.max(ext*bnds.height, mss), // thickness of elevator in pixels\n          topLeft = pt(0, Math.round((bnds.height - elevPix)*val)), // ael: round to prevent artifacts\n          sliderExt = pt(bnds.width, elevPix);\n    } else { // more horizontal...\n      var elevPix = Math.max(ext*bnds.width, mss), // thickness of elevator in pixels\n          topLeft = pt(Math.round((bnds.width - elevPix)*val), 0), // ael: as above\n          sliderExt = pt(elevPix, bnds.height);\n    }\n\n    knob.setBounds(bnds.topLeft().addPt(topLeft).extent(sliderExt));\n  }\n}\n\n"
      },
      "SliderKnob": {
        "package.json": "{\n  \"name\": \"SliderKnob\",\n  \"version\": \"0.1.0\",\n  \"lively\": {\n    \"isObjectPackage\": true\n  }\n}",
        "index.js": "import { Morph } from \"lively.morphic\";\n\nexport default class SliderKnob extends Morph {\n\n  get isSliderKnob() { return true; }\n\n  onDragStart(evt) {\n    this.hitPoint = evt.positionIn(this.owner);\n  }\n\n  onDrag(evt) {\n      // the hitpoint is the offset that make the slider move smooth\n      let {hitPoint, owner: slider} = this;\n      if (!hitPoint) return; // we were not clicked on...\n\n      // Compute the value from a new mouse point, and emit it\n      var delta = slider.localize(evt.position).subPt(hitPoint),\n          p = this.bounds().topLeft().addPt(delta),\n          bnds = slider.innerBounds(),\n          ext = slider.sliderExtent;\n\n      if (slider.isVertical) {\n          // thickness of elevator in pixels\n          var elevPix = Math.max(ext*bnds.height,slider.mss),\n              newValue = p.y / (bnds.height-elevPix);\n      } else {\n          // thickness of elevator in pixels\n          var elevPix = Math.max(ext*bnds.width,slider.mss),\n              newValue =  p.x / (bnds.width-elevPix);\n      }\n\n      if (isNaN(newValue)) newValue = 0;\n      var prevVal = slider.scaledValue;\n      slider.scaledValue = slider.clipValue(newValue);\n\n      var newVal = slider.scaledValue;\n      if (+newVal != +prevVal) this.hitPoint = slider.localize(evt.position);\n  }\n\n}\n\n"
      }
    }
  },
  "preview": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAO0AAAAsCAYAAACJ+T+eAAAIKElEQVR4Xu1dWU8bVxQ+M2NjG3BYQtuEJWzesDGLzQ5N2uYHtMpDpVZRlIc+VOov6Hv/QdU+tKpUVcpDukh9yGuzGPCObcDY2DgEAjSqVChhM8b2uLrjhJYsYBIOvnbuCMkSnhmfOfd85zvnzLn3cpDjcXvMo1eoZBcF4C6n0mljKplqSouiOsfL2WlMA8ga4EAQeBBFETKZzGv9FsdxwPM8pMU0wOvd6kg5BJ7flMllCzJBCIkAt3fjyXsfjPRGDruQO+quo3bPJ7xM9lUGxDp1WZlCrS6HMpUSysvLQC6TAXAcAFES+2R6yJMdbO/sQDgSA6NeCyqlAkrk8qPM+tDv95JJiMcTMBOZA5NBC6UqJZp9J1Mp2Nrahu34LmxubsHm9naCA34llRa/vDRo/flFgh4K2nG3z6ZUKqx6TXMpBxyQP8nzsE+mB0rsIB7fhWhsAQZ7u14LqC+7eNzjgzZtKygVilOz+wxkIBJ7sLO7l3AO91guPyvbC0Frc3o+TCZTvzU11AnVVZUoymA3ZRo4CQ0sLq1AQ915qKqoQGGUtfUNWH70CBrr605C3GPdY/WfdVha/jMp47kr7w7133p68XOgHXf7r3M893XLhbpynhdQFHFqLouFBEU/fuG5+9DXbQZFScmxAJHryYm9PfD4p8GgbclLiCmKaZhfWt4SOP6LfkvnT0TuA6Adc0xc4WX8j431tazAlOuosvPyqoHZ2Dy8N9SHKsNduxsMGgLa/B2LSyvxlAjXLg5Yft0HbSaT4e+Mu/a0zY2CIAhSBY5U0dgn0wPNdkCYloAWM8W+9wS0+dRDOi3C3PxCWjvSr94H7bjb56qqrOirPKNmQGUOq2AcNmHai4O9qInQPYdHKkblm8Aeb2zA2vpjpwRam9N9VVGi/L6h9pwyfwEA+2WmgeNrgDDtpcFe1LeONmcWtDQcD1ce7WVB6/DOaJoajORdK3ubw97mYIaaJ21fBLTvDvSg2q3N6QUjYdq8lKKet0eOdDoJMpjQNTeWsaruSZsUux+2CwxFYxJoMRE16vKCUUeYlo7x5O443NfLlaof6mvP8ahPTskD06J4JsfJACAUvQ8jfVbUhrxR1wQYdRpqXp9xY27fjcoz6k/PVlUWTPEhn1W8fBcj2O8frOaTVsORfisq34y5s6Clxu5sTm+g9u23OkkvMWo2z3qTmX4RepNnojEY7rWgBi7jbh+Y9Fpqxo+7M+bc0LU2q8m72ZMJWFD1h5m6sOenJgDMnTiDkTkY7rOg8o3dkwUtNfj4Y9SRoUqgAjQcWqqKb6IcJDwe6ulGZQq7xw/tei01hMER0LYbdAwq1AzJmwi9V+ew4GxUAi2m1hxeP7QbtPRUj7OgpUcgVJeJOrSvbni5B4OYplmY8gdn52DA2oVaPXZ4A0ATsUlMa27TMbtheChIfzkdjsKgtQvVHTsnAmAm0Sglfi0LWooEokUxTI7CyJimZ6PQb+lEHS6nbxJoIjYJtB1teiCz5UkTI/tkeigkO5gKRyTQYh6uJ6ClRi/Z8FiP6qlY5ElNZFV04zwdjkBfdwcmZsHtn4IssdExjhLTdhoNjGFZpFGQkdZkaPYJaPEg5fZPQ4eREBslkagUHtMkEC2KYXIUhCOfCkWgt8uMyrSewDTQRGxZpjUZWPUYz1HTEVMV6fNNzsxKoMXsyfZOBiXQ0pJb7IfHtAjE5CiMqi0t40TC457OdlSmlUBLEbFJoO0ytRVEKERNTsFCZ2rsJTATlkCLybQTUzMSaKmxvyxoDZTUxYo0hqOm7lh8+g3MzILFbELtiCKgJcRGSw4pMW13O2FaakJ2WiIvJgc1ZvpyuPiDYbB0mFCnzfmmQ9DV3kaPPUhMS5NABWAozMHR4+ADwTB0t0vLm6FNzyOgpYnYskxrNtLC/EwO5hGO5RH8BFCS/eJtAkfYnDgGWqiWuzvu2jDqNWqyAx7ic6N6QiY32qZu1I+bPxjK5puIzfyEzS1mIzX44GzOianG+vPmM2S5GcwnZ1kz0y+Cffmms0UizJ558i6YgJYWfHAOr/9mVWXFx+/U1LBskjkWagwzV4CQfBO78SELWhM1+OAcvsDnCnnJt80X6kkuz8y24Mw2V/MuzvOkd6jIvfOkVZJUqKnBB1msXC7n/GaDTsVqIMVp2MU8rr6pGcCepUam/1k7TNQQmrQtyJjLN2fSt2p4nkftLKFm3Vi2G2DRjDNpMcSeD05WxyCgpcF+RVHM7k876vJcK1WqvmttuqCgQTDMljT2fMW1fSkJj8kaZ5gthmR1DOxWyVztMraw+N+m0nav33mupqb/bHUlavM1uznTwElqgDAt9qJrZPE47EkJuehkdW0d/lpbtR/YVPqu3ZXoNBplgkD+TU3azcpj1GRT9GXHBLQmPdlnB89eydrKPZ1kzm7+nj8tZiAQDKXfH+5X7IOWIN3u9X/Ec9wNo05Tmgvy2TlMA/nWAJmgjr1lB9l6BHui/VF6DEdj2+kMf3Wop+P3A6AlF3r9wc/ETPobXWtLCc8/9/VR92bfMw2cqgZIR1TLhXqQyeQoTJhMpeHBw6VsG2MejrQoQiQ2vycH4ZrVar5JRHghKgnjJnYTv7Q2NcjOVldT38qG2SzOWiTpbpGMzi9CeWkplKqUKNXdre1t2Invgqa58dRx8PfqGsw/XE4qlIorQ9auW099xqFUavf6bIoSRb9R11rCcTyKJ8PMRfKZg7Dnwssx/z+u8d0EkBUZNU2NKJMGYotL0GHUgVKhPDX7z2RECEVje8lk0jlg7b70LMH/C2Ld2k6ZrwOJAAAAAElFTkSuQmCC"
}