{
  "id": "WorldPreview_0548F013_694F_4F41_A1D1_32EFC46DB208",
  "snapshot": {
    "WorldPreview_0548F013_694F_4F41_A1D1_32EFC46DB208": {
      "rev": 564280,
      "props": {
        "_tickingScripts": {
          "key": "_tickingScripts",
          "value": []
        },
        "attributeConnections": {
          "key": "attributeConnections"
        },
        "name": {
          "key": "name",
          "value": "world preview"
        },
        "position": {
          "key": "position",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(-38.9,57.0)"
        },
        "origin": {
          "key": "origin",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(0.0,0.0)"
        },
        "extent": {
          "key": "extent",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(403.0,119.0)"
        },
        "fill": {
          "key": "fill",
          "value": "__lv_expr__:{Color}:lively.graphics/color.js:Color.rgb(230,230,230)"
        },
        "submorphs": {
          "key": "submorphs",
          "value": [
            {
              "__ref__": true,
              "id": "Image_FD9BB4CD_4358_4F76_A58C_B4D841DEB5B2",
              "rev": 814975
            },
            {
              "__ref__": true,
              "id": "Label_426B822E_3834_46FB_9C0B_2D41AFC25FDB",
              "rev": 562923
            },
            {
              "__ref__": true,
              "id": "Text_BC611302_C4B8_4D3A_8AAA_C4DD6B17481D",
              "rev": 563642
            },
            {
              "__ref__": true,
              "id": "button_D6852EC7_C27E_44A8_978E_2EF85F69CB8A",
              "rev": 832276
            },
            {
              "__ref__": true,
              "id": "button_792D6C55_38C0_4738_8C50_8F4150074950",
              "rev": 832277
            },
            {
              "__ref__": true,
              "id": "button_172B07E7_1BE8_4CD5_B57B_AD0E5020075A",
              "rev": 832278
            }
          ]
        },
        "clipMode": {
          "key": "clipMode",
          "value": "visible"
        },
        "scroll": {
          "key": "scroll",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(0.0,0.0)"
        },
        "scrollbarOffset": {
          "key": "scrollbarOffset",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(15.0,15.0)"
        },
        "styleClasses": {
          "key": "styleClasses",
          "value": [
            "WorldPreview",
            "ObjectPreview",
            "Morph",
            "morph"
          ]
        },
        "layout": {
          "key": "layout",
          "value": null
        },
        "borderWidth": {
          "key": "borderWidth",
          "verbatim": true,
          "value": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        },
        "borderRadius": {
          "key": "borderRadius",
          "verbatim": true,
          "value": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        },
        "borderStyle": {
          "key": "borderStyle",
          "verbatim": true,
          "value": {
            "top": "solid",
            "right": "solid",
            "bottom": "solid",
            "left": "solid"
          }
        },
        "borderColor": {
          "key": "borderColor",
          "verbatim": true,
          "value": {
            "top": [
              1,
              1,
              1,
              1
            ],
            "right": [
              1,
              1,
              1,
              1
            ],
            "bottom": [
              1,
              1,
              1,
              1
            ],
            "left": [
              1,
              1,
              1,
              1
            ]
          }
        },
        "styleSheets": {
          "key": "styleSheets",
          "value": []
        },
        "state": {
          "key": "state",
          "value": {
            "__ref__": true,
            "id": "77A0D190-5A38-4870-B0B3-3A2519A456FC",
            "rev": 0
          }
        },
        "padding": {
          "key": "padding",
          "value": "__lv_expr__:{rect}:lively.graphics/geometry-2d.js:rect(2,2,0,0)"
        }
      },
      "lively.serializer-class-info": {
        "className": "WorldPreview",
        "module": {
          "package": {
            "name": "ObjectPreview",
            "version": "0.1.0"
          },
          "pathInPackage": "index.js",
          "lastChange": 1501413545414,
          "lastSuperclassChange": 1501413549510
        }
      }
    },
    "Image_FD9BB4CD_4358_4F76_A58C_B4D841DEB5B2": {
      "rev": 814975,
      "props": {
        "_tickingScripts": {
          "key": "_tickingScripts",
          "value": []
        },
        "attributeConnections": {
          "key": "attributeConnections"
        },
        "name": {
          "key": "name",
          "value": "preview"
        },
        "nativeCursor": {
          "key": "nativeCursor",
          "value": "pointer"
        },
        "position": {
          "key": "position",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(2.0,2.0)"
        },
        "extent": {
          "key": "extent",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(115.0,115.0)"
        },
        "submorphs": {
          "key": "submorphs",
          "value": []
        },
        "styleClasses": {
          "key": "styleClasses",
          "value": [
            "Image",
            "Morph",
            "morph"
          ]
        },
        "borderWidth": {
          "key": "borderWidth",
          "verbatim": true,
          "value": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        },
        "borderRadius": {
          "key": "borderRadius",
          "verbatim": true,
          "value": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        },
        "borderStyle": {
          "key": "borderStyle",
          "verbatim": true,
          "value": {
            "top": "solid",
            "right": "solid",
            "bottom": "solid",
            "left": "solid"
          }
        },
        "borderColor": {
          "key": "borderColor",
          "verbatim": true,
          "value": {
            "top": [
              1,
              1,
              1,
              1
            ],
            "right": [
              1,
              1,
              1,
              1
            ],
            "bottom": [
              1,
              1,
              1,
              1
            ],
            "left": [
              1,
              1,
              1,
              1
            ]
          }
        },
        "styleSheets": {
          "key": "styleSheets",
          "value": []
        },
        "imageUrl": {
          "key": "imageUrl",
          "value": "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
        },
        "naturalExtent": {
          "key": "naturalExtent",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(1.0,1.0)"
        }
      },
      "lively.serializer-class-info": {
        "className": "Image",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "morph.js",
          "lastChange": 1501397209201,
          "lastSuperclassChange": 0
        }
      }
    },
    "Label_426B822E_3834_46FB_9C0B_2D41AFC25FDB": {
      "rev": 562923,
      "props": {
        "_tickingScripts": {
          "key": "_tickingScripts",
          "value": []
        },
        "attributeConnections": {
          "key": "attributeConnections"
        },
        "name": {
          "key": "name",
          "value": "label"
        },
        "position": {
          "key": "position",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(45.2,101.0)"
        },
        "extent": {
          "key": "extent",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(0.0,0.0)"
        },
        "submorphs": {
          "key": "submorphs",
          "value": []
        },
        "styleClasses": {
          "key": "styleClasses",
          "value": [
            "Label",
            "Morph",
            "morph"
          ]
        },
        "borderWidth": {
          "key": "borderWidth",
          "verbatim": true,
          "value": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        },
        "borderRadius": {
          "key": "borderRadius",
          "verbatim": true,
          "value": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        },
        "borderStyle": {
          "key": "borderStyle",
          "verbatim": true,
          "value": {
            "top": "solid",
            "right": "solid",
            "bottom": "solid",
            "left": "solid"
          }
        },
        "borderColor": {
          "key": "borderColor",
          "verbatim": true,
          "value": {
            "top": [
              1,
              1,
              1,
              1
            ],
            "right": [
              1,
              1,
              1,
              1
            ],
            "bottom": [
              1,
              1,
              1,
              1
            ],
            "left": [
              1,
              1,
              1,
              1
            ]
          }
        },
        "styleSheets": {
          "key": "styleSheets",
          "value": []
        },
        "textAndAttributes": {
          "key": "textAndAttributes",
          "value": [
            "",
            null
          ]
        }
      },
      "lively.serializer-class-info": {
        "className": "Label",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "text/label.js",
          "lastChange": 1501397209091,
          "lastSuperclassChange": 1501397209147
        }
      }
    },
    "Text_BC611302_C4B8_4D3A_8AAA_C4DD6B17481D": {
      "rev": 563642,
      "props": {
        "_tickingScripts": {
          "key": "_tickingScripts",
          "value": []
        },
        "attributeConnections": {
          "key": "attributeConnections"
        },
        "name": {
          "key": "name",
          "value": "description"
        },
        "nativeCursor": {
          "key": "nativeCursor",
          "value": "default"
        },
        "position": {
          "key": "position",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(119.0,2.0)"
        },
        "extent": {
          "key": "extent",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(282.0,115.0)"
        },
        "submorphs": {
          "key": "submorphs",
          "value": []
        },
        "clipMode": {
          "key": "clipMode",
          "value": "auto"
        },
        "styleClasses": {
          "key": "styleClasses",
          "value": [
            "Text",
            "Morph",
            "morph"
          ]
        },
        "borderWidth": {
          "key": "borderWidth",
          "verbatim": true,
          "value": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        },
        "borderRadius": {
          "key": "borderRadius",
          "verbatim": true,
          "value": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        },
        "borderStyle": {
          "key": "borderStyle",
          "verbatim": true,
          "value": {
            "top": "solid",
            "right": "solid",
            "bottom": "solid",
            "left": "solid"
          }
        },
        "borderColor": {
          "key": "borderColor",
          "verbatim": true,
          "value": {
            "top": [
              1,
              1,
              1,
              1
            ],
            "right": [
              1,
              1,
              1,
              1
            ],
            "bottom": [
              1,
              1,
              1,
              1
            ],
            "left": [
              1,
              1,
              1,
              1
            ]
          }
        },
        "styleSheets": {
          "key": "styleSheets",
          "value": []
        },
        "embeddedMorphMap": {
          "key": "embeddedMorphMap",
          "value": {
            "__ref__": true,
            "id": "054397DB-46E1-42A8-83F1-23E88A6A2AAC",
            "rev": 0
          }
        },
        "fixedWidth": {
          "key": "fixedWidth",
          "value": true
        },
        "fixedHeight": {
          "key": "fixedHeight",
          "value": true
        },
        "readOnly": {
          "key": "readOnly",
          "value": true
        },
        "padding": {
          "key": "padding",
          "value": "__lv_expr__:{rect}:lively.graphics/geometry-2d.js:rect(8,8,0,0)"
        },
        "anchors": {
          "key": "anchors",
          "value": [
            {
              "__ref__": true,
              "id": "5EDABAB7-C5B3-49CD-9316-CD2FB9B225D1",
              "rev": 0
            },
            {
              "__ref__": true,
              "id": "4627A84F-7F8C-491F-86FE-8D135DBF6B16",
              "rev": 0
            },
            {
              "__ref__": true,
              "id": "B828C0B2-5095-496A-843F-D5E70B3BEA8E",
              "rev": 0
            },
            {
              "__ref__": true,
              "id": "C104C4FA-6BAC-4849-9D2E-DC787D2FE3A8",
              "rev": 0
            },
            {
              "__ref__": true,
              "id": "BA2C7736-5BF9-43CE-9887-A99A57562B6B",
              "rev": 0
            },
            {
              "__ref__": true,
              "id": "4652F588-6BCD-46CC-925C-EF87983B7765",
              "rev": 0
            },
            {
              "__ref__": true,
              "id": "selection-start-C2E99A7E-1867-4C8A-9D1B-1BB8359D0759",
              "rev": 0
            },
            {
              "__ref__": true,
              "id": "selection-end-C2E99A7E-1867-4C8A-9D1B-1BB8359D0759",
              "rev": 0
            }
          ]
        },
        "savedMarks": {
          "key": "savedMarks",
          "value": []
        },
        "plugins": {
          "key": "plugins",
          "value": []
        },
        "selections": {
          "key": "selections",
          "verbatim": true,
          "value": [
            {
              "start": {
                "row": 0,
                "column": 0
              },
              "end": {
                "row": 0,
                "column": 0
              }
            }
          ]
        },
        "textAndAttributes": {
          "key": "textAndAttributes",
          "verbatim": true,
          "value": [
            "",
            null
          ]
        }
      },
      "lively.serializer-class-info": {
        "className": "Text",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "text/morph.js",
          "lastChange": 1501397209789,
          "lastSuperclassChange": 1501397209147
        }
      }
    },
    "054397DB-46E1-42A8-83F1-23E88A6A2AAC": {
      "rev": 0,
      "props": {},
      "entries": [],
      "lively.serializer-class-info": {
        "className": "Map"
      }
    },
    "5EDABAB7-C5B3-49CD-9316-CD2FB9B225D1": {
      "rev": 0,
      "props": {
        "_rev": {
          "key": "_rev",
          "value": 0
        },
        "id": {
          "key": "id",
          "value": null
        },
        "position": {
          "key": "position",
          "value": {
            "__ref__": true,
            "id": "FCE98866-E825-4D1A-94F3-1AFA68D3390C",
            "rev": 0
          }
        },
        "insertBehavior": {
          "key": "insertBehavior",
          "value": "move"
        }
      },
      "lively.serializer-class-info": {
        "className": "Anchor",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "text/anchors.js",
          "lastChange": 1501397209665,
          "lastSuperclassChange": 0
        }
      }
    },
    "FCE98866-E825-4D1A-94F3-1AFA68D3390C": {
      "rev": 0,
      "props": {
        "row": {
          "key": "row",
          "value": 0
        },
        "column": {
          "key": "column",
          "value": 0
        }
      }
    },
    "4627A84F-7F8C-491F-86FE-8D135DBF6B16": {
      "rev": 0,
      "props": {
        "_rev": {
          "key": "_rev",
          "value": 0
        },
        "id": {
          "key": "id",
          "value": null
        },
        "position": {
          "key": "position",
          "value": {
            "__ref__": true,
            "id": "FCE98866-E825-4D1A-94F3-1AFA68D3390C",
            "rev": 0
          }
        },
        "insertBehavior": {
          "key": "insertBehavior",
          "value": "move"
        }
      },
      "lively.serializer-class-info": {
        "className": "Anchor",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "text/anchors.js",
          "lastChange": 1501397209665,
          "lastSuperclassChange": 0
        }
      }
    },
    "B828C0B2-5095-496A-843F-D5E70B3BEA8E": {
      "rev": 0,
      "props": {
        "_rev": {
          "key": "_rev",
          "value": 0
        },
        "id": {
          "key": "id",
          "value": null
        },
        "position": {
          "key": "position",
          "value": {
            "__ref__": true,
            "id": "FCE98866-E825-4D1A-94F3-1AFA68D3390C",
            "rev": 0
          }
        },
        "insertBehavior": {
          "key": "insertBehavior",
          "value": "move"
        }
      },
      "lively.serializer-class-info": {
        "className": "Anchor",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "text/anchors.js",
          "lastChange": 1501397209665,
          "lastSuperclassChange": 0
        }
      }
    },
    "C104C4FA-6BAC-4849-9D2E-DC787D2FE3A8": {
      "rev": 0,
      "props": {
        "_rev": {
          "key": "_rev",
          "value": 0
        },
        "id": {
          "key": "id",
          "value": null
        },
        "position": {
          "key": "position",
          "value": {
            "__ref__": true,
            "id": "FCE98866-E825-4D1A-94F3-1AFA68D3390C",
            "rev": 0
          }
        },
        "insertBehavior": {
          "key": "insertBehavior",
          "value": "move"
        }
      },
      "lively.serializer-class-info": {
        "className": "Anchor",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "text/anchors.js",
          "lastChange": 1501397209665,
          "lastSuperclassChange": 0
        }
      }
    },
    "BA2C7736-5BF9-43CE-9887-A99A57562B6B": {
      "rev": 0,
      "props": {
        "_rev": {
          "key": "_rev",
          "value": 0
        },
        "id": {
          "key": "id",
          "value": null
        },
        "position": {
          "key": "position",
          "value": {
            "__ref__": true,
            "id": "FCE98866-E825-4D1A-94F3-1AFA68D3390C",
            "rev": 0
          }
        },
        "insertBehavior": {
          "key": "insertBehavior",
          "value": "move"
        }
      },
      "lively.serializer-class-info": {
        "className": "Anchor",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "text/anchors.js",
          "lastChange": 1501397209665,
          "lastSuperclassChange": 0
        }
      }
    },
    "4652F588-6BCD-46CC-925C-EF87983B7765": {
      "rev": 0,
      "props": {
        "_rev": {
          "key": "_rev",
          "value": 0
        },
        "id": {
          "key": "id",
          "value": null
        },
        "position": {
          "key": "position",
          "value": {
            "__ref__": true,
            "id": "FCE98866-E825-4D1A-94F3-1AFA68D3390C",
            "rev": 0
          }
        },
        "insertBehavior": {
          "key": "insertBehavior",
          "value": "move"
        }
      },
      "lively.serializer-class-info": {
        "className": "Anchor",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "text/anchors.js",
          "lastChange": 1501397209665,
          "lastSuperclassChange": 0
        }
      }
    },
    "selection-start-C2E99A7E-1867-4C8A-9D1B-1BB8359D0759": {
      "rev": 0,
      "props": {
        "id": {
          "key": "id",
          "value": "selection-start-C2E99A7E-1867-4C8A-9D1B-1BB8359D0759"
        },
        "position": {
          "key": "position",
          "value": {
            "__ref__": true,
            "id": "5788CB5D-45AC-4172-917D-98EDE65B8D8B",
            "rev": 0
          }
        },
        "insertBehavior": {
          "key": "insertBehavior",
          "value": "move"
        }
      },
      "lively.serializer-class-info": {
        "className": "Anchor",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "text/anchors.js",
          "lastChange": 1501397209665,
          "lastSuperclassChange": 0
        }
      }
    },
    "5788CB5D-45AC-4172-917D-98EDE65B8D8B": {
      "rev": 0,
      "props": {
        "row": {
          "key": "row",
          "value": 0
        },
        "column": {
          "key": "column",
          "value": 0
        }
      }
    },
    "selection-end-C2E99A7E-1867-4C8A-9D1B-1BB8359D0759": {
      "rev": 0,
      "props": {
        "id": {
          "key": "id",
          "value": "selection-end-C2E99A7E-1867-4C8A-9D1B-1BB8359D0759"
        },
        "position": {
          "key": "position",
          "value": {
            "__ref__": true,
            "id": "D2E51729-CBE4-4E18-929E-CA663C82287B",
            "rev": 0
          }
        },
        "insertBehavior": {
          "key": "insertBehavior",
          "value": "move"
        }
      },
      "lively.serializer-class-info": {
        "className": "Anchor",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "text/anchors.js",
          "lastChange": 1501397209665,
          "lastSuperclassChange": 0
        }
      }
    },
    "D2E51729-CBE4-4E18-929E-CA663C82287B": {
      "rev": 0,
      "props": {
        "row": {
          "key": "row",
          "value": 0
        },
        "column": {
          "key": "column",
          "value": 0
        }
      }
    },
    "button_D6852EC7_C27E_44A8_978E_2EF85F69CB8A": {
      "rev": 832276,
      "props": {
        "_tickingScripts": {
          "key": "_tickingScripts",
          "value": []
        },
        "attributeConnections": {
          "key": "attributeConnections",
          "value": [
            {
              "__ref__": true,
              "id": "01D87D51-7448-4255-8D0B-04FADB713287",
              "rev": 0
            }
          ]
        },
        "name": {
          "key": "name",
          "value": "visit button"
        },
        "position": {
          "key": "position",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(331.6,97.0)"
        },
        "extent": {
          "key": "extent",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(69.4,20.0)"
        },
        "visible": {
          "key": "visible"
        },
        "submorphs": {
          "key": "submorphs",
          "value": [
            {
              "__ref__": true,
              "id": "label_480FC691_F77E_4D65_9C47_4F074F0D5248",
              "rev": 60547
            }
          ]
        },
        "styleClasses": {
          "key": "styleClasses",
          "value": [
            "Button",
            "Morph",
            "morph"
          ]
        },
        "borderWidth": {
          "key": "borderWidth",
          "verbatim": true,
          "value": {
            "top": 1,
            "right": 1,
            "bottom": 1,
            "left": 1
          }
        },
        "borderRadius": {
          "key": "borderRadius",
          "verbatim": true,
          "value": {
            "top": 5,
            "right": 5,
            "bottom": 5,
            "left": 5
          }
        },
        "borderStyle": {
          "key": "borderStyle",
          "verbatim": true,
          "value": {
            "top": "solid",
            "right": "solid",
            "bottom": "solid",
            "left": "solid"
          }
        },
        "borderColor": {
          "key": "borderColor",
          "verbatim": true,
          "value": {
            "top": [
              0.8,
              0.8,
              0.8,
              1
            ],
            "right": [
              0.8,
              0.8,
              0.8,
              1
            ],
            "bottom": [
              0.8,
              0.8,
              0.8,
              1
            ],
            "left": [
              0.8,
              0.8,
              0.8,
              1
            ]
          }
        },
        "styleSheets": {
          "key": "styleSheets",
          "value": []
        },
        "labelMorph": {
          "key": "labelMorph",
          "value": {
            "__ref__": true,
            "id": "label_480FC691_F77E_4D65_9C47_4F074F0D5248",
            "rev": 60547
          }
        },
        "label": {
          "key": "label",
          "value": "visit"
        }
      },
      "lively.serializer-class-info": {
        "className": "Button",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "components/buttons.js",
          "lastChange": 1501397209684,
          "lastSuperclassChange": 1501397209147
        }
      }
    },
    "01D87D51-7448-4255-8D0B-04FADB713287": {
      "rev": 0,
      "props": {
        "doNotSerialize": {
          "key": "doNotSerialize",
          "value": [
            "isActive",
            "converter",
            "updater"
          ]
        },
        "sourceObj": {
          "key": "sourceObj",
          "value": {
            "__ref__": true,
            "id": "button_D6852EC7_C27E_44A8_978E_2EF85F69CB8A",
            "rev": 832276
          }
        },
        "sourceAttrName": {
          "key": "sourceAttrName",
          "value": "fire"
        },
        "targetObj": {
          "key": "targetObj",
          "value": {
            "__ref__": true,
            "id": "WorldPreview_0548F013_694F_4F41_A1D1_32EFC46DB208",
            "rev": 564280
          }
        },
        "targetMethodName": {
          "key": "targetMethodName",
          "value": "interactivelyVisitWorld"
        },
        "varMapping": {
          "key": "varMapping",
          "value": {
            "__ref__": true,
            "id": "6507AB91-65F5-4FA6-9844-9FD344E8DF27",
            "rev": 0
          }
        },
        "garbageCollect": {
          "key": "garbageCollect",
          "value": true
        },
        "signalOnAssignment": {
          "key": "signalOnAssignment",
          "value": true
        }
      },
      "lively.serializer-class-info": {
        "className": "AttributeConnection",
        "module": {
          "package": {
            "name": "lively.bindings",
            "version": "0.1.2"
          },
          "pathInPackage": "index.js",
          "lastChange": 1501397209018,
          "lastSuperclassChange": 0
        }
      }
    },
    "6507AB91-65F5-4FA6-9844-9FD344E8DF27": {
      "rev": 0,
      "props": {
        "source": {
          "key": "source",
          "value": {
            "__ref__": true,
            "id": "button_D6852EC7_C27E_44A8_978E_2EF85F69CB8A",
            "rev": 832276
          }
        },
        "target": {
          "key": "target",
          "value": {
            "__ref__": true,
            "id": "WorldPreview_0548F013_694F_4F41_A1D1_32EFC46DB208",
            "rev": 564280
          }
        }
      }
    },
    "label_480FC691_F77E_4D65_9C47_4F074F0D5248": {
      "rev": 60547,
      "props": {
        "_tickingScripts": {
          "key": "_tickingScripts",
          "value": []
        },
        "attributeConnections": {
          "key": "attributeConnections"
        },
        "name": {
          "key": "name",
          "value": "label"
        },
        "reactsToPointer": {
          "key": "reactsToPointer",
          "value": false
        },
        "position": {
          "key": "position",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(24.4,3.0)"
        },
        "extent": {
          "key": "extent",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(20.7,14.0)"
        },
        "submorphs": {
          "key": "submorphs",
          "value": []
        },
        "styleClasses": {
          "key": "styleClasses",
          "value": [
            "Label",
            "Morph",
            "morph"
          ]
        },
        "borderWidth": {
          "key": "borderWidth",
          "verbatim": true,
          "value": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        },
        "borderRadius": {
          "key": "borderRadius",
          "verbatim": true,
          "value": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        },
        "borderStyle": {
          "key": "borderStyle",
          "verbatim": true,
          "value": {
            "top": "solid",
            "right": "solid",
            "bottom": "solid",
            "left": "solid"
          }
        },
        "borderColor": {
          "key": "borderColor",
          "verbatim": true,
          "value": {
            "top": [
              1,
              1,
              1,
              1
            ],
            "right": [
              1,
              1,
              1,
              1
            ],
            "bottom": [
              1,
              1,
              1,
              1
            ],
            "left": [
              1,
              1,
              1,
              1
            ]
          }
        },
        "styleSheets": {
          "key": "styleSheets",
          "value": []
        },
        "textAndAttributes": {
          "key": "textAndAttributes",
          "value": [
            "visit",
            null
          ]
        }
      },
      "lively.serializer-class-info": {
        "className": "Label",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "text/label.js",
          "lastChange": 1501397209091,
          "lastSuperclassChange": 1501397209147
        }
      }
    },
    "button_792D6C55_38C0_4738_8C50_8F4150074950": {
      "rev": 832277,
      "props": {
        "_tickingScripts": {
          "key": "_tickingScripts",
          "value": []
        },
        "attributeConnections": {
          "key": "attributeConnections",
          "value": [
            {
              "__ref__": true,
              "id": "697C2575-7F3E-463A-BAF7-EB232D0AEF6F",
              "rev": 0
            }
          ]
        },
        "name": {
          "key": "name",
          "value": "version button"
        },
        "position": {
          "key": "position",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(259.2,97.0)"
        },
        "extent": {
          "key": "extent",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(69.4,20.0)"
        },
        "visible": {
          "key": "visible"
        },
        "submorphs": {
          "key": "submorphs",
          "value": [
            {
              "__ref__": true,
              "id": "label_A56E6F96_E975_4B8A_ADE4_5CBFA4ACCA99",
              "rev": 60573
            }
          ]
        },
        "styleClasses": {
          "key": "styleClasses",
          "value": [
            "Button",
            "Morph",
            "morph"
          ]
        },
        "borderWidth": {
          "key": "borderWidth",
          "verbatim": true,
          "value": {
            "top": 1,
            "right": 1,
            "bottom": 1,
            "left": 1
          }
        },
        "borderRadius": {
          "key": "borderRadius",
          "verbatim": true,
          "value": {
            "top": 5,
            "right": 5,
            "bottom": 5,
            "left": 5
          }
        },
        "borderStyle": {
          "key": "borderStyle",
          "verbatim": true,
          "value": {
            "top": "solid",
            "right": "solid",
            "bottom": "solid",
            "left": "solid"
          }
        },
        "borderColor": {
          "key": "borderColor",
          "verbatim": true,
          "value": {
            "top": [
              0.8,
              0.8,
              0.8,
              1
            ],
            "right": [
              0.8,
              0.8,
              0.8,
              1
            ],
            "bottom": [
              0.8,
              0.8,
              0.8,
              1
            ],
            "left": [
              0.8,
              0.8,
              0.8,
              1
            ]
          }
        },
        "styleSheets": {
          "key": "styleSheets",
          "value": []
        },
        "labelMorph": {
          "key": "labelMorph",
          "value": {
            "__ref__": true,
            "id": "label_A56E6F96_E975_4B8A_ADE4_5CBFA4ACCA99",
            "rev": 60573
          }
        },
        "label": {
          "key": "label",
          "value": "version"
        }
      },
      "lively.serializer-class-info": {
        "className": "Button",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "components/buttons.js",
          "lastChange": 1501397209684,
          "lastSuperclassChange": 1501397209147
        }
      }
    },
    "697C2575-7F3E-463A-BAF7-EB232D0AEF6F": {
      "rev": 0,
      "props": {
        "doNotSerialize": {
          "key": "doNotSerialize",
          "value": [
            "isActive",
            "converter",
            "updater"
          ]
        },
        "sourceObj": {
          "key": "sourceObj",
          "value": {
            "__ref__": true,
            "id": "button_792D6C55_38C0_4738_8C50_8F4150074950",
            "rev": 832277
          }
        },
        "sourceAttrName": {
          "key": "sourceAttrName",
          "value": "fire"
        },
        "targetObj": {
          "key": "targetObj",
          "value": {
            "__ref__": true,
            "id": "WorldPreview_0548F013_694F_4F41_A1D1_32EFC46DB208",
            "rev": 564280
          }
        },
        "targetMethodName": {
          "key": "targetMethodName",
          "value": "interactivelyShowVersions"
        },
        "varMapping": {
          "key": "varMapping",
          "value": {
            "__ref__": true,
            "id": "7FAA3AAF-439E-4BC5-82F9-B5D23E5BA6E6",
            "rev": 0
          }
        },
        "garbageCollect": {
          "key": "garbageCollect",
          "value": true
        },
        "signalOnAssignment": {
          "key": "signalOnAssignment",
          "value": true
        }
      },
      "lively.serializer-class-info": {
        "className": "AttributeConnection",
        "module": {
          "package": {
            "name": "lively.bindings",
            "version": "0.1.2"
          },
          "pathInPackage": "index.js",
          "lastChange": 1501397209018,
          "lastSuperclassChange": 0
        }
      }
    },
    "7FAA3AAF-439E-4BC5-82F9-B5D23E5BA6E6": {
      "rev": 0,
      "props": {
        "source": {
          "key": "source",
          "value": {
            "__ref__": true,
            "id": "button_792D6C55_38C0_4738_8C50_8F4150074950",
            "rev": 832277
          }
        },
        "target": {
          "key": "target",
          "value": {
            "__ref__": true,
            "id": "WorldPreview_0548F013_694F_4F41_A1D1_32EFC46DB208",
            "rev": 564280
          }
        }
      }
    },
    "label_A56E6F96_E975_4B8A_ADE4_5CBFA4ACCA99": {
      "rev": 60573,
      "props": {
        "_tickingScripts": {
          "key": "_tickingScripts",
          "value": []
        },
        "attributeConnections": {
          "key": "attributeConnections"
        },
        "name": {
          "key": "name",
          "value": "label"
        },
        "reactsToPointer": {
          "key": "reactsToPointer",
          "value": false
        },
        "position": {
          "key": "position",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(15.4,3.0)"
        },
        "extent": {
          "key": "extent",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(38.7,14.0)"
        },
        "submorphs": {
          "key": "submorphs",
          "value": []
        },
        "styleClasses": {
          "key": "styleClasses",
          "value": [
            "Label",
            "Morph",
            "morph"
          ]
        },
        "borderWidth": {
          "key": "borderWidth",
          "verbatim": true,
          "value": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        },
        "borderRadius": {
          "key": "borderRadius",
          "verbatim": true,
          "value": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        },
        "borderStyle": {
          "key": "borderStyle",
          "verbatim": true,
          "value": {
            "top": "solid",
            "right": "solid",
            "bottom": "solid",
            "left": "solid"
          }
        },
        "borderColor": {
          "key": "borderColor",
          "verbatim": true,
          "value": {
            "top": [
              1,
              1,
              1,
              1
            ],
            "right": [
              1,
              1,
              1,
              1
            ],
            "bottom": [
              1,
              1,
              1,
              1
            ],
            "left": [
              1,
              1,
              1,
              1
            ]
          }
        },
        "styleSheets": {
          "key": "styleSheets",
          "value": []
        },
        "textAndAttributes": {
          "key": "textAndAttributes",
          "value": [
            "version",
            null
          ]
        }
      },
      "lively.serializer-class-info": {
        "className": "Label",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "text/label.js",
          "lastChange": 1501397209091,
          "lastSuperclassChange": 1501397209147
        }
      }
    },
    "button_172B07E7_1BE8_4CD5_B57B_AD0E5020075A": {
      "rev": 832278,
      "props": {
        "_tickingScripts": {
          "key": "_tickingScripts",
          "value": []
        },
        "attributeConnections": {
          "key": "attributeConnections",
          "value": [
            {
              "__ref__": true,
              "id": "6BC78C2C-6B1A-4136-A3D4-A3D21B2757EC",
              "rev": 0
            }
          ]
        },
        "name": {
          "key": "name",
          "value": "remove button"
        },
        "position": {
          "key": "position",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(186.8,97.0)"
        },
        "extent": {
          "key": "extent",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(69.4,20.0)"
        },
        "visible": {
          "key": "visible"
        },
        "submorphs": {
          "key": "submorphs",
          "value": [
            {
              "__ref__": true,
              "id": "label_337D567A_E01A_4459_A594_42DEC73B6CAE",
              "rev": 60599
            }
          ]
        },
        "styleClasses": {
          "key": "styleClasses",
          "value": [
            "Button",
            "Morph",
            "morph"
          ]
        },
        "borderWidth": {
          "key": "borderWidth",
          "verbatim": true,
          "value": {
            "top": 1,
            "right": 1,
            "bottom": 1,
            "left": 1
          }
        },
        "borderRadius": {
          "key": "borderRadius",
          "verbatim": true,
          "value": {
            "top": 5,
            "right": 5,
            "bottom": 5,
            "left": 5
          }
        },
        "borderStyle": {
          "key": "borderStyle",
          "verbatim": true,
          "value": {
            "top": "solid",
            "right": "solid",
            "bottom": "solid",
            "left": "solid"
          }
        },
        "borderColor": {
          "key": "borderColor",
          "verbatim": true,
          "value": {
            "top": [
              0.8,
              0.8,
              0.8,
              1
            ],
            "right": [
              0.8,
              0.8,
              0.8,
              1
            ],
            "bottom": [
              0.8,
              0.8,
              0.8,
              1
            ],
            "left": [
              0.8,
              0.8,
              0.8,
              1
            ]
          }
        },
        "styleSheets": {
          "key": "styleSheets",
          "value": []
        },
        "labelMorph": {
          "key": "labelMorph",
          "value": {
            "__ref__": true,
            "id": "label_337D567A_E01A_4459_A594_42DEC73B6CAE",
            "rev": 60599
          }
        },
        "label": {
          "key": "label",
          "value": "remove"
        }
      },
      "lively.serializer-class-info": {
        "className": "Button",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "components/buttons.js",
          "lastChange": 1501397209684,
          "lastSuperclassChange": 1501397209147
        }
      }
    },
    "6BC78C2C-6B1A-4136-A3D4-A3D21B2757EC": {
      "rev": 0,
      "props": {
        "doNotSerialize": {
          "key": "doNotSerialize",
          "value": [
            "isActive",
            "converter",
            "updater"
          ]
        },
        "sourceObj": {
          "key": "sourceObj",
          "value": {
            "__ref__": true,
            "id": "button_172B07E7_1BE8_4CD5_B57B_AD0E5020075A",
            "rev": 832278
          }
        },
        "sourceAttrName": {
          "key": "sourceAttrName",
          "value": "fire"
        },
        "targetObj": {
          "key": "targetObj",
          "value": {
            "__ref__": true,
            "id": "WorldPreview_0548F013_694F_4F41_A1D1_32EFC46DB208",
            "rev": 564280
          }
        },
        "targetMethodName": {
          "key": "targetMethodName",
          "value": "interactivelyRemoveWorld"
        },
        "varMapping": {
          "key": "varMapping",
          "value": {
            "__ref__": true,
            "id": "79D37A61-B87A-41BA-A8BA-A382C59F2D64",
            "rev": 0
          }
        },
        "garbageCollect": {
          "key": "garbageCollect",
          "value": true
        },
        "signalOnAssignment": {
          "key": "signalOnAssignment",
          "value": true
        }
      },
      "lively.serializer-class-info": {
        "className": "AttributeConnection",
        "module": {
          "package": {
            "name": "lively.bindings",
            "version": "0.1.2"
          },
          "pathInPackage": "index.js",
          "lastChange": 1501397209018,
          "lastSuperclassChange": 0
        }
      }
    },
    "79D37A61-B87A-41BA-A8BA-A382C59F2D64": {
      "rev": 0,
      "props": {
        "source": {
          "key": "source",
          "value": {
            "__ref__": true,
            "id": "button_172B07E7_1BE8_4CD5_B57B_AD0E5020075A",
            "rev": 832278
          }
        },
        "target": {
          "key": "target",
          "value": {
            "__ref__": true,
            "id": "WorldPreview_0548F013_694F_4F41_A1D1_32EFC46DB208",
            "rev": 564280
          }
        }
      }
    },
    "label_337D567A_E01A_4459_A594_42DEC73B6CAE": {
      "rev": 60599,
      "props": {
        "_tickingScripts": {
          "key": "_tickingScripts",
          "value": []
        },
        "attributeConnections": {
          "key": "attributeConnections"
        },
        "name": {
          "key": "name",
          "value": "label"
        },
        "reactsToPointer": {
          "key": "reactsToPointer",
          "value": false
        },
        "position": {
          "key": "position",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(14.7,3.0)"
        },
        "extent": {
          "key": "extent",
          "value": "__lv_expr__:{pt}:lively.graphics/geometry-2d.js:pt(40.0,14.0)"
        },
        "submorphs": {
          "key": "submorphs",
          "value": []
        },
        "styleClasses": {
          "key": "styleClasses",
          "value": [
            "Label",
            "Morph",
            "morph"
          ]
        },
        "borderWidth": {
          "key": "borderWidth",
          "verbatim": true,
          "value": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        },
        "borderRadius": {
          "key": "borderRadius",
          "verbatim": true,
          "value": {
            "top": 0,
            "right": 0,
            "bottom": 0,
            "left": 0
          }
        },
        "borderStyle": {
          "key": "borderStyle",
          "verbatim": true,
          "value": {
            "top": "solid",
            "right": "solid",
            "bottom": "solid",
            "left": "solid"
          }
        },
        "borderColor": {
          "key": "borderColor",
          "verbatim": true,
          "value": {
            "top": [
              1,
              1,
              1,
              1
            ],
            "right": [
              1,
              1,
              1,
              1
            ],
            "bottom": [
              1,
              1,
              1,
              1
            ],
            "left": [
              1,
              1,
              1,
              1
            ]
          }
        },
        "styleSheets": {
          "key": "styleSheets",
          "value": []
        },
        "textAndAttributes": {
          "key": "textAndAttributes",
          "value": [
            "remove",
            null
          ]
        }
      },
      "lively.serializer-class-info": {
        "className": "Label",
        "module": {
          "package": {
            "name": "lively.morphic",
            "version": "0.1.0"
          },
          "pathInPackage": "text/label.js",
          "lastChange": 1501397209091,
          "lastSuperclassChange": 1501397209147
        }
      }
    },
    "77A0D190-5A38-4870-B0B3-3A2519A456FC": {
      "rev": 0,
      "props": {
        "__dont_serialize__": {
          "key": "__dont_serialize__",
          "value": [
            "snapshot",
            "object",
            "versionGraph"
          ]
        },
        "ref": {
          "key": "ref",
          "value": {
            "__ref__": true,
            "id": "8FE451BC-70C8-4A30-B02F-64FB32FAA1C9",
            "rev": 0
          }
        },
        "log": {
          "key": "log",
          "value": null
        },
        "commit": {
          "key": "commit",
          "value": null
        }
      }
    },
    "8FE451BC-70C8-4A30-B02F-64FB32FAA1C9": {
      "rev": 0,
      "props": {
        "type": {
          "key": "type",
          "value": null
        },
        "name": {
          "key": "name",
          "value": null
        },
        "_id": {
          "key": "_id",
          "value": null
        },
        "ref": {
          "key": "ref",
          "value": null
        },
        "realm": {
          "key": "realm",
          "value": null
        }
      }
    }
  },
  "requiredVersion": "~0.1",
  "packages": {
    "local://lively-object-modules/": {
      "ObjectPreview": {
        "package.json": "{\n  \"name\": \"ObjectPreview\",\n  \"version\": \"0.1.0\",\n  \"lively\": {\n    \"isObjectPackage\": true\n  }\n}",
        "index.js": "import { Morph, inspect, morph, ProportionalLayout } from \"lively.morphic\";\nimport { Rectangle, rect, Color, pt } from \"lively.graphics/index.js\";\nimport { MorphicDB } from \"lively.morphic/morphicdb/index.js\";\nimport { date } from \"lively.lang/index.js\";\nimport { disconnectAll, disconnect, connect } from \"lively.bindings/index.js\";\nimport { truncate } from \"lively.lang/string.js\";\nimport { VerticalResizer, HorizontalResizer } from \"lively.morphic/components/resizers.js\";\n\nexport class ObjectPreview extends Morph {\n\n  static get properties() {\n\n    return {\n\n      extent: {defaultValue: pt(200,200)},\n      fill: {defaultValue: Color.gray.lighter()},\n      clipMode: {defaultValue: \"hidden\"},\n\n      state: {\n        initialize() {\n          this.state = {\n            __dont_serialize__: [\"snapshot\", \"object\", \"versionGraph\"],\n            ref: {type: null, name: null, _id: null, ref: null, realm: null},\n            versionGraph: null,\n            log: null,\n            commit: null,\n            snapshot: null,\n            object: null,\n          }\n        },\n      },\n\n      previewAlign: {defaultValue: \"center\"},\n\n      // layout: {\n      //   initialize() {\n      //     this.layout = new ProportionalLayout({submorphSettings: [[\"label\", {y: \"move\"}]]});\n      //   }\n      // },\n\n      padding: {\n        type: \"Rectangle\",\n        defaultValue: Rectangle.inset(2)\n      }\n    }\n\n  }\n\n  get db() { return MorphicDB.default; }\n\n  async reset() {\n    this.propertiesAndPropertySettings().properties.state.initialize.call(this);\n    let preview     = this.getSubmorphNamed(\"preview\")\n    if (preview) preview.clear()\n    let label       = this.getSubmorphNamed(\"label\")\n    if (label) label.value = \"\";\n    \n    // let commits = await this.db.latestCommits(\"world\")\n    // let ci = commits.find(ea => ea.name === \"faces\")\n    // this.state.ref = {name: ci.name, type: \"world\"};\n    // this.updatePreview();\n  }\n\n  initWithCommit(commit) {\n    // let commit = this.state.commit\n    this.reset();\n    this.state = {...this.state, commit, ref: commit};\n    this.updatePreview();\n  }\n\n  onChange(change) {\n    if (change.prop === \"extent\") this.relayout();\n    return super.onChange(change);\n  }\n\n  relayout() {\n    let preview = this.getSubmorphNamed(\"preview\"),\n        label = this.getSubmorphNamed(\"label\"),\n        {padding, width, height} = this;\n    if (!preview || !label) return;\n    if (width <= height) preview.setWidthKeepingRatio(width-(padding.left()+padding.right()));\n    else preview.setHeightKeepingRatio(height-(padding.bottom()+padding.top()));\n    preview[this.previewAlign] = this.innerBounds().insetByRect(padding)[this.previewAlign]();\n    label.bottomCenter = preview.bottomCenter.addXY(0, -padding.bottom());\n  }\n\n  showPreviewFor(type, name) {\n    this.state = {...this.state, ref: {name, type}};\n    return this.updatePreview();\n  }\n\n  async fetchCommit() {\n    if (this.state.commit) return this.state.commit;\n    let {name, type, ref, _id, realm} = this.state.ref,\n        commit = await this.db.fetchCommit(type, name, _id, ref);\n    this.state = {...this.state, commit};\n    return commit;\n  }\n\n  async fetchVersionGraph() {\n    if (this.state.versionGraph) return this.state.versionGraph;\n    let {name, type, ref, _id, realm} = this.state.ref;\n    if (!type || !name) {\n      ({name, type} = await this.fetchCommit());\n    }\n    let versionGraph = await this.db.history(type, name);\n    this.state = {...this.state, versionGraph};\n    return versionGraph;\n  }\n\n  async fetchLog(commitId) {\n  \n  // await this.fetchLog(_id)\n    let {_id, realm} = this.state.ref;\n    if (!_id) ({_id} = await this.fetchCommit());\n    return this.db.log(_id, 100/*limit*/, true);\n  }\n\n  async delete(dryRun) {\n  // await this.fetchLog(_id)\n    let {type, name} = this.state.ref;\n    return this.db.delete(type, name, dryRun);\n  }\n\n  async updatePreview() {\n    let preview = this.getSubmorphNamed(\"preview\")\n                || this.addMorph({name: \"preview\", type: \"image\", autoResize: false}),\n        label = this.getSubmorphNamed(\"label\")\n                || this.addMorph({name: \"label\", type: \"label\"}),\n        ci = await this.fetchCommit();\n\n    Object.assign(preview, {\n      reactsToPointer: false,\n      imageUrl: ci.preview\n    });\n    label.textString = ci.name;\n    label.fit();\n    await preview.whenLoaded();\n\n    this.relayout();\n  }\n\n}\n\n// new WorldPreview().openInHand()\n\nexport class WorldPreview extends ObjectPreview {\n\n  static get properties() {\n    return {\n      previewAlign: {\n        defaultValue: \"leftCenter\"\n      },\n    }\n  }\n\n  get isWorldPreview() { return true; }\n\n  async reset() {\n    let description = this.getSubmorphNamed(\"description\")\n    if (description) description.textString = \"\";\n\n    // new WorldPreview().openInWorld();\n    // this.submorphs = [];\n    // await this.showPreviewFor(\"world\", \"faces\");\n    // super.reset();\n    // this.getSubmorphNamed(\"description\")\n  }\n\n  relayout() {\n    super.relayout();\n    let preview = this.getSubmorphNamed(\"preview\"),\n        description = this.getSubmorphNamed(\"description\"),\n        visitButton = this.getSubmorphNamed(\"visit button\"),\n        versionButton = this.getSubmorphNamed(\"version button\"),\n        removeButton = this.getSubmorphNamed(\"remove button\"),\n        {padding: p} = this;\n\n    if (!removeButton\n     || !versionButton\n     || !visitButton\n     || !description\n     || !preview) return;\n\n    description.setBounds(rect(\n      preview.topRight.addXY(p.left(), 0),\n      this.innerBounds().bottomRight().subPt(p.bottomRight())));    \n\n    visitButton.bottomRight = this.innerBounds().bottomRight().subPt(p.bottomRight());\n    versionButton.bottomRight = visitButton.bottomLeft.addXY(-3,0);\n    removeButton.bottomRight = versionButton.bottomLeft.addXY(-3,0);\n  }\n\n\n  setButtonVisibility(bool) {\n    let removeButton = this.getSubmorphNamed(\"remove button\"),\n        versionButton = this.getSubmorphNamed(\"version button\"),\n        visitButton = this.getSubmorphNamed(\"visit button\");\n    // if (bool && this.owner) {\n    //   this.owner.submorphs.forEach(ea =>\n    //     ea !== this && ea.isWorldPreview && ea.setButtonVisibility(false));\n    // }\n    [visitButton, versionButton, removeButton]\n      .filter(Boolean)\n      .forEach(ea => ea.visible = bool);\n  }\n\n  onHoverIn(evt) { this.setButtonVisibility(true); }\n  onHoverOut(evt) { this.setButtonVisibility(false); }\n\n  onMouseUp(evt) {\n    let preview = this.getSubmorphNamed(\"preview\");\n    if (evt.targetMorph === preview) {\n      this.interactivelyVisitWorld();\n    }\n  }\n\n  async updatePreview() {\n    await super.updatePreview();\n    let preview = this.getSubmorphNamed(\"preview\"),\n        description = this.getSubmorphNamed(\"description\")\n                    || this.addMorph({\n                      name: \"description\", type: \"text\",\n                      clipMode: \"auto\",\n                      padding: Rectangle.inset(8), readOnly: true\n                    }),\n        visitButton = this.getSubmorphNamed(\"visit button\")\n                    || this.addMorph({type: \"button\", width: 60, label: \"visit\", name: \"visit button\"}),\n        versionButton = this.getSubmorphNamed(\"version button\")\n                    || this.addMorph({type: \"button\", width: 60, label: \"version\", name: \"version button\"}),\n        removeButton = this.getSubmorphNamed(\"remove button\")\n                    || this.addMorph({type: \"button\", width: 60, label: \"remove\", name: \"remove button\"}),\n        {state: {commit: ci}} = this;\n\n    preview.nativeCursor = \"pointer\";\n    preview.reactsToPointer = true;\n\n    connect(visitButton, 'fire', this, 'interactivelyVisitWorld');\n    connect(removeButton, 'fire', this, 'interactivelyRemoveWorld');\n    connect(versionButton, 'fire', this, 'interactivelyShowVersions');\n\n    description.textString = `Author: ${ci.author.name}\\n`\n      + `Modified at: ${date.format(new Date(ci.timestamp), \"yyyy-mm-dd HH:MM Z\")}`\n      + `\\n\\n`\n      + `${ci.description}`;\n    this.relayout();\n  }\n\n  async interactivelyShowVersions() {\n    let {_id, name: n, type} = this.state.ref,\n        log = await this.fetchLog(_id),\n        items = log.map(ea => {\n          let {_id, author: {name}, message, timestamp} = ea;\n          return {\n            isListItem: true,\n            string: `${_id.slice(0,6)} `\n            + `${truncate(message.split(\"\\n\")[0], 40)} `\n            + `(${name} `\n            + `${date.format(new Date(timestamp), \"yyyy-mm-dd HH:MM Z\")})`,\n            value: ea\n          }\n        });\n\n    let logView = morph({\n      extent: pt(400, 300),\n      name: \"log view\",\n      layout: new ProportionalLayout(),\n      submorphs: [\n        {type: \"list\", name: \"commit list\", extent: pt(400, 150), items},\n        new HorizontalResizer({position: pt(0, 150), extent: pt(400, 5)}),\n        {type: \"text\", name: \"commit info text\", position: pt(0, 155), extent: pt(400, 145), clipMode: \"auto\", padding: Rectangle.inset(8, 4)}\n      ]\n    });\n    let [commitList, resizer, infoText] = logView.submorphs;\n    resizer.addScalingAbove(commitList);\n    resizer.addScalingBelow(infoText);\n    logView.openInWindow({title: `commit log for ${type}/${n}`})\n\n    connect(commitList, 'selection', infoText, 'textString', {\n      converter: commit => {\n        let {message, timestamp, author, _id} = commit;\n        return `${_id}\\n`\n        + `by ${author.name} <${author.email}>\\n`\n        + `${lively.lang.date.format(new Date(timestamp), \"yyyy-mm-dd HH:MM Z\")}\\n`\n        + `\\n\\n`\n        + `${message}`;\n      }\n    });\n\n    return logView;\n  }\n\n  async interactivelyRemoveWorld() {\n    let {name, type} = this.state.ref,\n        really = await $world.confirm(`Really remove world ${type}/${name}?`, {requester: this});\n    if (!really) return;\n    try {\n      // inspect(await this.delete(true));\n      await this.delete(false/*dryRn*/)\n      this.setStatusMessage(\"world \" + name + \" deleted\");\n      let informMorph = this.ownerChain().find(ea => typeof ea.onWorldRemoved === \"function\");\n      if (informMorph) informMorph.onWorldRemoved(this.state.ref);\n    } catch (err) { this.showError(err); }\n  }\n\n  interactivelyVisitWorld() {\n    this.setStatusMessage(\"nyi\");\n  }\n\n}"
      }
    }
  },
  "preview": "data:image/png;base64,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"
}